{
  "max_file_loc": 400,
  "max_function_loc": 60,
  "max_class_loc": 200,
  "max_cc": 10,
  "max_avg_cc_per_file": 6,
  "max_hotspots": 0,
  "exclude_paths": [
    "clinicdesk/app/ui/**",
    "clinicdesk/app/pages/**",
    "tests/**",
    "migrations/**",
    "sql/**"
  ],
  "allowlist": [
    {
      "path": "scripts/structural_gate.py",
      "max_cc": 30,
      "max_function_loc": 100,
      "max_file_loc": 500,
      "reason": "Deuda temporal aceptada: script de tooling, fuera del core clínico"
    },
    {
      "path": "scripts/ml_cli.py",
      "max_file_loc": 500,
      "reason": "Deuda temporal aceptada: CLI de soporte para flujos ML"
    },
    {
      "path": "clinicdesk/app/infrastructure/sqlite/demo_data_seeder.py",
      "max_file_loc": 450,
      "max_function_loc": 80,
      "reason": "Deuda temporal aceptada: seeding demo concentrado en un módulo legado"
    },
    {
      "path": "clinicdesk/app/infrastructure/sqlite/repos_pacientes.py",
      "max_class_loc": 300,
      "reason": "Deuda temporal aceptada: repositorio legacy mientras se completa partición por mixins"
    },
    {
      "path": "clinicdesk/app/infrastructure/sqlite/repos_personal.py",
      "max_class_loc": 240,
      "reason": "Deuda temporal aceptada: repositorio legacy pendiente de segmentación"
    },
    {
      "path": "clinicdesk/app/infrastructure/sqlite/repos_recetas.py",
      "max_class_loc": 230,
      "reason": "Deuda temporal aceptada: refactor diferido por compatibilidad con UI"
    },
    {
      "path": "clinicdesk/app/queries/medicos_queries.py",
      "max_function_loc": 65,
      "max_cc": 11,
      "max_avg_cc_per_file": 7,
      "reason": "Deuda estructural preexistente en búsqueda avanzada; se allowlistea temporalmente hasta extraer filtros/paginación"
    },
    {
      "path": "clinicdesk/app/queries/personal_queries.py",
      "max_function_loc": 64,
      "max_cc": 11,
      "max_avg_cc_per_file": 7,
      "reason": "Deuda estructural preexistente en búsqueda avanzada; se allowlistea temporalmente hasta separar criterios por helper"
    }
  ]
}
